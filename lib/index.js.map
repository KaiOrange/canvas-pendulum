{"version":3,"sources":["ball.js","utils.js","index.js"],"names":["Ball","options","x","y","radius","vx","vy","style","isURL","image","Image","src","rotation","outLineWidth","url","startsWith","context","save","translate","rotate","lineWidth","beginPath","arc","Math","PI","closePath","clip","drawImage","restore","fillStyle","fill","stroke","width","height","utils","window","requestAnimationFrame","webkitRequestAnimationFrame","mozRequestAnimationFrame","msRequestAnimationFrame","oRequestAnimationFrame","callback","setTimeout","cancelRequestAnimationFrame","cancelAnimationFrame","webkitCancelRequestAnimationFrame","mozCancelRequestAnimationFrame","msCancelRequestAnimationFrame","oCancelRequestAnimationFrame","clearTimeout","element","mouse","event","body_scrollLeft","document","body","scrollLeft","element_scrollLeft","documentElement","body_scrollTop","scrollTop","element_scrollTop","offsetLeft","offsetTop","addEventListener","pageX","pageY","clientX","clientY","color","toNumber","slice","parseInt","toString","substr","alpha","r","g","b","a","undefined","rect","rectA","rectB","CanvasPendulum","canvas","el","createElement","appendChild","cWidth","cHeight","getContext","captureMouse","T","ballNum","ballWidth","maxAngle","min","initSpeed","intX","maxRadian","startTime","Date","time","getTimer","ballStyles","pendulums","Array","map","item","index","ball","isArray","fixedPoint","line","spend","w","ball1","ball2","pow","start","bind","clearRect","elspsed","forEach","angle","sin","cos","moveTo","lineTo","draw","length","checkConflict","console","log"],"mappings":"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","file":"index.js","sourceRoot":"../src","sourcesContent":["class  Ball {\n\n  constructor(options = {}){\n    this.x = options.x || 0;\n    this.y = options.y || 0;\n    this.radius = options.radius || 20;\n    this.vx = options.vx;\n    this.vy = options.vy;\n    this.style = options.style || \"red\";\n    if (this.isURL(this.style)) {\n      this.image = new Image();\n      this.image.src = this.style;\n    }\n    this.rotation = options.rotation || 0;\n    this.outLineWidth = options.outLineWidth || 1;\n  }\n\n  isURL(url){\n    return typeof url === 'string' && (url.startsWith('http') || url.startsWith('.') || url.startsWith('/'))\n  }\n\n  draw (context) {\n    context.save();\n    context.translate(this.x, this.y);\n    context.rotate(this.rotation);\n    context.lineWidth = this.outLineWidth;\n    context.beginPath();\n    context.arc(0, 0, this.radius, 0, (Math.PI * 2), true);\n    context.closePath();\n\n    if (this.image) {\n      context.save();\n      context.clip();\n      context.drawImage(this.image, -this.radius + this.outLineWidth / 2,  -this.radius + this.outLineWidth / 2, this.radius * 2 - this.outLineWidth, this.radius * 2 - this.outLineWidth);\n      context.restore();\n    } else {\n      context.fillStyle = this.style;\n      context.fill();\n    }\n    if (this.outLineWidth > 0) {\n      context.stroke();\n    }\n\n    context.restore();\n  }\n\n  getBounds () {\n    return {\n      x: this.x - this.radius,\n      y: this.y - this.radius,\n      width: this.radius * 2,\n      height: this.radius * 2\n    };\n  }\n}\n\n\nexport default Ball\n","/**\n * Normalize the browser animation API across implementations. This requests\n * the browser to schedule a repaint of the window for the next animation frame.\n * Checks for cross-browser support, and, failing to find it, falls back to setTimeout.\n * @param {function}    callback  Function to call when it's time to update your animation for the next repaint.\n * @param {HTMLElement} element   Optional parameter specifying the element that visually bounds the entire animation.\n * @return {number} Animation frame request.\n */\nif (!window.requestAnimationFrame) {\n  window.requestAnimationFrame = (window.webkitRequestAnimationFrame ||\n                                  window.mozRequestAnimationFrame ||\n                                  window.msRequestAnimationFrame ||\n                                  window.oRequestAnimationFrame ||\n                                  function (callback) {\n                                    return window.setTimeout(callback, 17 /*~ 1000/60*/);\n                                  });\n}\n\n/**\n * Cancels an animation frame request.\n * Checks for cross-browser support, falls back to clearTimeout.\n * @param {number}  Animation frame request.\n */\nif (!window.cancelRequestAnimationFrame) {\n  window.cancelRequestAnimationFrame = (window.cancelAnimationFrame ||\n                                        window.webkitCancelRequestAnimationFrame ||\n                                        window.mozCancelRequestAnimationFrame ||\n                                        window.msCancelRequestAnimationFrame ||\n                                        window.oCancelRequestAnimationFrame ||\n                                        window.clearTimeout);\n}\n\n\n/* Object that contains our utility functions.\n * Attached to the window object which acts as the global namespace.\n */\nconst utils = {};\n\n/**\n * Keeps track of the current mouse position, relative to an element.\n * @param {HTMLElement} element\n * @return {object} Contains properties: x, y, event\n */\nutils.captureMouse = function (element) {\n  var mouse = {x: 0, y: 0, event: null},\n      body_scrollLeft = document.body.scrollLeft,\n      element_scrollLeft = document.documentElement.scrollLeft,\n      body_scrollTop = document.body.scrollTop,\n      element_scrollTop = document.documentElement.scrollTop,\n      offsetLeft = element.offsetLeft,\n      offsetTop = element.offsetTop;\n  \n  element.addEventListener('mousemove', function (event) {\n    var x, y;\n    \n    if (event.pageX || event.pageY) {\n      x = event.pageX;\n      y = event.pageY;\n    } else {\n      x = event.clientX + body_scrollLeft + element_scrollLeft;\n      y = event.clientY + body_scrollTop + element_scrollTop;\n    }\n    x -= offsetLeft;\n    y -= offsetTop;\n    \n    mouse.x = x;\n    mouse.y = y;\n    mouse.event = event;\n  }, false);\n  \n  return mouse;\n};\n\n/**\n * Returns a color in the format: '#RRGGBB', or as a hex number if specified.\n * @param {number|string} color\n * @param {boolean=}      toNumber=false  Return color as a hex number.\n * @return {string|number}\n */\nutils.parseColor = function (color, toNumber) {\n  if (toNumber === true) {\n    if (typeof color === 'number') {\n      return (color | 0); //chop off decimal\n    }\n    if (typeof color === 'string' && color[0] === '#') {\n      color = color.slice(1);\n    }\n    return window.parseInt(color, 16);\n  } else {\n    if (typeof color === 'number') {\n      color = '#' + ('00000' + (color | 0).toString(16)).substr(-6); //pad\n    }\n    return color;\n  }\n};\n\n/**\n * Converts a color to the RGB string format: 'rgb(r,g,b)' or 'rgba(r,g,b,a)'\n * @param {number|string} color\n * @param {number}        alpha\n * @return {string}\n */\nutils.colorToRGB = function (color, alpha) {\n  //number in octal format or string prefixed with #\n  if (typeof color === 'string' && color[0] === '#') {\n    color = window.parseInt(color.slice(1), 16);\n  }\n  alpha = (alpha === undefined) ? 1 : alpha;\n  //parse hex values\n  var r = color >> 16 & 0xff,\n      g = color >> 8 & 0xff,\n      b = color & 0xff,\n      a = (alpha < 0) ? 0 : ((alpha > 1) ? 1 : alpha);\n  //only use 'rgba' if needed\n  if (a === 1) {\n    return \"rgb(\"+ r +\",\"+ g +\",\"+ b +\")\";\n  } else {\n    return \"rgba(\"+ r +\",\"+ g +\",\"+ b +\",\"+ a +\")\";\n  }\n};\n\n/**\n * Determine if a rectangle contains the coordinates (x,y) within it's boundaries.\n * @param {object}  rect  Object with properties: x, y, width, height.\n * @param {number}  x     Coordinate position x.\n * @param {number}  y     Coordinate position y.\n * @return {boolean}\n */\nutils.containsPoint = function (rect, x, y) {\n  return !(x < rect.x ||\n    x > rect.x + rect.width ||\n    y < rect.y ||\n    y > rect.y + rect.height);\n};\n\n/**\n * Determine if two rectangles overlap.\n * @param {object}  rectA Object with properties: x, y, width, height.\n * @param {object}  rectB Object with properties: x, y, width, height.\n * @return {boolean}\n */\nutils.intersects = function (rectA, rectB) {\n  return !(rectA.x + rectA.width < rectB.x ||\n    rectB.x + rectB.width < rectA.x ||\n    rectA.y + rectA.height < rectB.y ||\n    rectB.y + rectB.height < rectA.y);\n};\n\nexport default utils\n","import Ball from './ball'\nimport utils from './utils'\n\nclass CanvasPendulum {\n\n  constructor(options = {}){\n    this.canvas = options.el\n    if (!this.canvas) {\n      this.canvas = document.createElement('canvas');\n      document.body.appendChild(this.canvas);\n    }\n    this.cWidth = options.width || this.canvas.width;\n    this.cHeight =  options.height || this.canvas.height;\n    this.context = this.canvas.getContext('2d');\n    var mouse = utils.captureMouse(this.canvas);\n\n    this.T = options.T || 1000;// 周期\n    this.ballNum = options.ballNum || 5;\n    this.ballWidth = options.ballWidth || 40;\n    this.maxAngle = options.maxAngle || 20;// 最大的角度\n    this.outLineWidth = Math.min(options.outLineWidth || 1,this.ballWidth);// 边框大小\n    this.initSpeed = 2 * Math.PI / this.T;\n    this.intX = this.cWidth / 2 - this.ballNum / 2 * (this.ballWidth + this.outLineWidth);\n    this.maxRadian = Math.PI * (this.maxAngle || 10) / 180;\n\n    this.startTime = + new Date();\n    this.time = this.getTimer();\n    let lineWidth = options.lineWidth || (this.cHeight - this.ballWidth) * 90 / 100;\n\n    let defaultBallStyle = 'red'\n    let ballStyles = options.ballStyles || defaultBallStyle\n\n    this.pendulums = new Array(this.ballNum).fill(0).map((item,index)=>({\n      ball:new Ball({\n        radius: this.ballWidth / 2,\n        style: Array.isArray(ballStyles) ? ballStyles[index]||defaultBallStyle : ballStyles,\n        outLineWidth: this.outLineWidth\n      }),\n      radius: this.ballWidth / 2,\n      fixedPoint:[this.intX + index * (this.ballWidth + this.outLineWidth) + this.ballWidth / 2,0],\n      line: lineWidth,\n      spend: index === 0 ? this.initSpeed : 0,\n      w: 0,\n    }));\n  }\n\n  getTimer(){\n    return + new Date() - this.startTime;\n  }\n\n  checkConflict (ball1,ball2){\n    if (!ball1 || !ball2) {\n      return false\n    }\n    return Math.pow(ball1.radius + ball2.radius,2) > Math.pow(ball2.x - ball1.x,2) + Math.pow(ball2.y - ball1.y,2)\n  }\n\n  start(){\n    window.requestAnimationFrame(this.start.bind(this), this.canvas);\n    this.context.clearRect(0, 0, this.canvas.width, this.canvas.height);\n    var elspsed = this.getTimer() - this.time;\n    this.time = this.getTimer();\n\n     // 绘制\n    this.pendulums.forEach(item=>{\n      // item.w+=item.spend;\n      item.w += item.spend * elspsed;\n      var angle =  Math.sin(item.w) * this.maxRadian;\n      item.ball.x = item.fixedPoint[0] - (item.line + item.radius) * Math.sin(angle);\n      item.ball.y = item.fixedPoint[1] + (item.line + item.radius) * Math.cos(angle);\n\n      // 划线\n      this.context.save();\n      this.context.lineWidth = 1;\n      this.context.beginPath();\n      this.context.moveTo(item.fixedPoint[0] || 9, item.fixedPoint[1] || 0);\n      this.context.lineTo(item.fixedPoint[0] - item.line * Math.sin(angle) , item.fixedPoint[1] + item.line * Math.cos(angle));\n      this.context.stroke();\n      this.context.restore();\n\n      if (angle !== 0) {\n        item.ball.rotation = angle\n      }\n\n      item.ball.draw(this.context);\n\n    })\n\n    // 碰撞检测\n    if (this.pendulums.length >= 2 && (\n      this.checkConflict(this.pendulums[0].ball,this.pendulums[1].ball) ||\n      this.checkConflict(this.pendulums[this.pendulums.length-1].ball,this.pendulums[this.pendulums.length -2].ball))) {\n      console.log('碰撞了！！！');\n      var spend = this.pendulums[0].spend;\n      var w = this.pendulums[0].w;\n      this.pendulums[0].spend = this.pendulums[this.pendulums.length - 1].spend;\n      this.pendulums[0].w = this.pendulums[this.pendulums.length - 1].w\n      this.pendulums[this.pendulums.length - 1].spend = spend\n      this.pendulums[this.pendulums.length - 1].w = w\n    }\n  }\n\n}\n\nexport default CanvasPendulum\n\n"]}
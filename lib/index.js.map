{"mappings":"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","sources":["<anon>","src/index.js","src/utils.js","node_modules/events/events.js","src/ball.js"],"sourcesContent":["(() => {\n/**\r\n * Normalize the browser animation API across implementations. This requests\r\n * the browser to schedule a repaint of the window for the next animation frame.\r\n * Checks for cross-browser support, and, failing to find it, falls back to setTimeout.\r\n * @param {function}    callback  Function to call when it's time to update your animation for the next repaint.\r\n * @param {HTMLElement} element   Optional parameter specifying the element that visually bounds the entire animation.\r\n * @return {number} Animation frame request.\r\n */ if (!window.requestAnimationFrame) window.requestAnimationFrame = window.webkitRequestAnimationFrame || window.mozRequestAnimationFrame || window.msRequestAnimationFrame || window.oRequestAnimationFrame || function(callback) {\n    return window.setTimeout(callback, 17 /*~ 1000/60*/ );\n};\n/**\r\n * Cancels an animation frame request.\r\n * Checks for cross-browser support, falls back to clearTimeout.\r\n * @param {number}  Animation frame request.\r\n */ if (!window.cancelRequestAnimationFrame) window.cancelRequestAnimationFrame = window.cancelAnimationFrame || window.webkitCancelRequestAnimationFrame || window.mozCancelRequestAnimationFrame || window.msCancelRequestAnimationFrame || window.oCancelRequestAnimationFrame || window.clearTimeout;\n/* Object that contains our utility functions.\r\n * Attached to the window object which acts as the global namespace.\r\n */ const $e1f0b8fa1ae2171c$var$utils = {};\n/**\r\n * Keeps track of the current mouse position, relative to an element.\r\n * @param {HTMLElement} element\r\n * @return {object} Contains properties: x, y, event\r\n */ $e1f0b8fa1ae2171c$var$utils.captureMouse = function(element) {\n    var mouse = {\n        x: 0,\n        y: 0,\n        event: null\n    }, body_scrollLeft = document.body.scrollLeft, element_scrollLeft = document.documentElement.scrollLeft, body_scrollTop = document.body.scrollTop, element_scrollTop = document.documentElement.scrollTop, offsetLeft = element.offsetLeft, offsetTop = element.offsetTop;\n    element.addEventListener(\"mousemove\", function(event) {\n        var x, y;\n        if (event.pageX || event.pageY) {\n            x = event.pageX;\n            y = event.pageY;\n        } else {\n            x = event.clientX + body_scrollLeft + element_scrollLeft;\n            y = event.clientY + body_scrollTop + element_scrollTop;\n        }\n        x -= offsetLeft;\n        y -= offsetTop;\n        mouse.x = x;\n        mouse.y = y;\n        mouse.event = event;\n    }, false);\n    return mouse;\n};\n/**\r\n * Returns a color in the format: '#RRGGBB', or as a hex number if specified.\r\n * @param {number|string} color\r\n * @param {boolean=}      toNumber=false  Return color as a hex number.\r\n * @return {string|number}\r\n */ $e1f0b8fa1ae2171c$var$utils.parseColor = function(color, toNumber) {\n    if (toNumber === true) {\n        if (typeof color === \"number\") return color | 0 //chop off decimal\n        ;\n        if (typeof color === \"string\" && color[0] === \"#\") color = color.slice(1);\n        return window.parseInt(color, 16);\n    } else {\n        if (typeof color === \"number\") color = \"#\" + (\"00000\" + (color | 0).toString(16)).substr(-6) //pad\n        ;\n        return color;\n    }\n};\n/**\r\n * Converts a color to the RGB string format: 'rgb(r,g,b)' or 'rgba(r,g,b,a)'\r\n * @param {number|string} color\r\n * @param {number}        alpha\r\n * @return {string}\r\n */ $e1f0b8fa1ae2171c$var$utils.colorToRGB = function(color, alpha) {\n    //number in octal format or string prefixed with #\n    if (typeof color === \"string\" && color[0] === \"#\") color = window.parseInt(color.slice(1), 16);\n    alpha = alpha === undefined ? 1 : alpha;\n    //parse hex values\n    var r = color >> 16 & 0xff, g = color >> 8 & 0xff, b = color & 0xff, a = alpha < 0 ? 0 : alpha > 1 ? 1 : alpha;\n    //only use 'rgba' if needed\n    if (a === 1) return \"rgb(\" + r + \",\" + g + \",\" + b + \")\";\n    else return \"rgba(\" + r + \",\" + g + \",\" + b + \",\" + a + \")\";\n};\n/**\r\n * Determine if a rectangle contains the coordinates (x,y) within it's boundaries.\r\n * @param {object}  rect  Object with properties: x, y, width, height.\r\n * @param {number}  x     Coordinate position x.\r\n * @param {number}  y     Coordinate position y.\r\n * @return {boolean}\r\n */ $e1f0b8fa1ae2171c$var$utils.containsPoint = function(rect, x, y) {\n    return !(x < rect.x || x > rect.x + rect.width || y < rect.y || y > rect.y + rect.height);\n};\n/**\r\n * Determine if two rectangles overlap.\r\n * @param {object}  rectA Object with properties: x, y, width, height.\r\n * @param {object}  rectB Object with properties: x, y, width, height.\r\n * @return {boolean}\r\n */ $e1f0b8fa1ae2171c$var$utils.intersects = function(rectA, rectB) {\n    return !(rectA.x + rectA.width < rectB.x || rectB.x + rectB.width < rectA.x || rectA.y + rectA.height < rectB.y || rectB.y + rectB.height < rectA.y);\n};\nvar $e1f0b8fa1ae2171c$export$2e2bcd8739ae039 = $e1f0b8fa1ae2171c$var$utils;\n\n\nvar $6e2b186194ca9ee7$exports = {};\n// Copyright Joyent, Inc. and other Node contributors.\n//\n// Permission is hereby granted, free of charge, to any person obtaining a\n// copy of this software and associated documentation files (the\n// \"Software\"), to deal in the Software without restriction, including\n// without limitation the rights to use, copy, modify, merge, publish,\n// distribute, sublicense, and/or sell copies of the Software, and to permit\n// persons to whom the Software is furnished to do so, subject to the\n// following conditions:\n//\n// The above copyright notice and this permission notice shall be included\n// in all copies or substantial portions of the Software.\n//\n// THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS\n// OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF\n// MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN\n// NO EVENT SHALL THE AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM,\n// DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR\n// OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE\n// USE OR OTHER DEALINGS IN THE SOFTWARE.\n\"use strict\";\nvar $6e2b186194ca9ee7$var$R = typeof Reflect === \"object\" ? Reflect : null;\nvar $6e2b186194ca9ee7$var$ReflectApply = $6e2b186194ca9ee7$var$R && typeof $6e2b186194ca9ee7$var$R.apply === \"function\" ? $6e2b186194ca9ee7$var$R.apply : function ReflectApply(target, receiver, args) {\n    return Function.prototype.apply.call(target, receiver, args);\n};\nvar $6e2b186194ca9ee7$var$ReflectOwnKeys;\nif ($6e2b186194ca9ee7$var$R && typeof $6e2b186194ca9ee7$var$R.ownKeys === \"function\") $6e2b186194ca9ee7$var$ReflectOwnKeys = $6e2b186194ca9ee7$var$R.ownKeys;\nelse if (Object.getOwnPropertySymbols) $6e2b186194ca9ee7$var$ReflectOwnKeys = function ReflectOwnKeys(target) {\n    return Object.getOwnPropertyNames(target).concat(Object.getOwnPropertySymbols(target));\n};\nelse $6e2b186194ca9ee7$var$ReflectOwnKeys = function ReflectOwnKeys(target) {\n    return Object.getOwnPropertyNames(target);\n};\nfunction $6e2b186194ca9ee7$var$ProcessEmitWarning(warning) {\n    if (console && console.warn) console.warn(warning);\n}\nvar $6e2b186194ca9ee7$var$NumberIsNaN = Number.isNaN || function NumberIsNaN(value) {\n    return value !== value;\n};\nfunction $6e2b186194ca9ee7$var$EventEmitter() {\n    $6e2b186194ca9ee7$var$EventEmitter.init.call(this);\n}\n$6e2b186194ca9ee7$exports = $6e2b186194ca9ee7$var$EventEmitter;\n$6e2b186194ca9ee7$exports.once = $6e2b186194ca9ee7$var$once;\n// Backwards-compat with node 0.10.x\n$6e2b186194ca9ee7$var$EventEmitter.EventEmitter = $6e2b186194ca9ee7$var$EventEmitter;\n$6e2b186194ca9ee7$var$EventEmitter.prototype._events = undefined;\n$6e2b186194ca9ee7$var$EventEmitter.prototype._eventsCount = 0;\n$6e2b186194ca9ee7$var$EventEmitter.prototype._maxListeners = undefined;\n// By default EventEmitters will print a warning if more than 10 listeners are\n// added to it. This is a useful default which helps finding memory leaks.\nvar $6e2b186194ca9ee7$var$defaultMaxListeners = 10;\nfunction $6e2b186194ca9ee7$var$checkListener(listener) {\n    if (typeof listener !== \"function\") throw new TypeError('The \"listener\" argument must be of type Function. Received type ' + typeof listener);\n}\nObject.defineProperty($6e2b186194ca9ee7$var$EventEmitter, \"defaultMaxListeners\", {\n    enumerable: true,\n    get: function() {\n        return $6e2b186194ca9ee7$var$defaultMaxListeners;\n    },\n    set: function(arg) {\n        if (typeof arg !== \"number\" || arg < 0 || $6e2b186194ca9ee7$var$NumberIsNaN(arg)) throw new RangeError('The value of \"defaultMaxListeners\" is out of range. It must be a non-negative number. Received ' + arg + \".\");\n        $6e2b186194ca9ee7$var$defaultMaxListeners = arg;\n    }\n});\n$6e2b186194ca9ee7$var$EventEmitter.init = function() {\n    if (this._events === undefined || this._events === Object.getPrototypeOf(this)._events) {\n        this._events = Object.create(null);\n        this._eventsCount = 0;\n    }\n    this._maxListeners = this._maxListeners || undefined;\n};\n// Obviously not all Emitters should be limited to 10. This function allows\n// that to be increased. Set to zero for unlimited.\n$6e2b186194ca9ee7$var$EventEmitter.prototype.setMaxListeners = function setMaxListeners(n) {\n    if (typeof n !== \"number\" || n < 0 || $6e2b186194ca9ee7$var$NumberIsNaN(n)) throw new RangeError('The value of \"n\" is out of range. It must be a non-negative number. Received ' + n + \".\");\n    this._maxListeners = n;\n    return this;\n};\nfunction $6e2b186194ca9ee7$var$_getMaxListeners(that) {\n    if (that._maxListeners === undefined) return $6e2b186194ca9ee7$var$EventEmitter.defaultMaxListeners;\n    return that._maxListeners;\n}\n$6e2b186194ca9ee7$var$EventEmitter.prototype.getMaxListeners = function getMaxListeners() {\n    return $6e2b186194ca9ee7$var$_getMaxListeners(this);\n};\n$6e2b186194ca9ee7$var$EventEmitter.prototype.emit = function emit(type) {\n    var args = [];\n    for(var i = 1; i < arguments.length; i++)args.push(arguments[i]);\n    var doError = type === \"error\";\n    var events = this._events;\n    if (events !== undefined) doError = doError && events.error === undefined;\n    else if (!doError) return false;\n    // If there is no 'error' event listener then throw.\n    if (doError) {\n        var er;\n        if (args.length > 0) er = args[0];\n        if (er instanceof Error) // Note: The comments on the `throw` lines are intentional, they show\n        // up in Node's output if this results in an unhandled exception.\n        throw er; // Unhandled 'error' event\n        // At least give some kind of context to the user\n        var err = new Error(\"Unhandled error.\" + (er ? \" (\" + er.message + \")\" : \"\"));\n        err.context = er;\n        throw err; // Unhandled 'error' event\n    }\n    var handler = events[type];\n    if (handler === undefined) return false;\n    if (typeof handler === \"function\") $6e2b186194ca9ee7$var$ReflectApply(handler, this, args);\n    else {\n        var len = handler.length;\n        var listeners = $6e2b186194ca9ee7$var$arrayClone(handler, len);\n        for(var i = 0; i < len; ++i)$6e2b186194ca9ee7$var$ReflectApply(listeners[i], this, args);\n    }\n    return true;\n};\nfunction $6e2b186194ca9ee7$var$_addListener(target, type, listener, prepend) {\n    var m;\n    var events;\n    var existing;\n    $6e2b186194ca9ee7$var$checkListener(listener);\n    events = target._events;\n    if (events === undefined) {\n        events = target._events = Object.create(null);\n        target._eventsCount = 0;\n    } else {\n        // To avoid recursion in the case that type === \"newListener\"! Before\n        // adding it to the listeners, first emit \"newListener\".\n        if (events.newListener !== undefined) {\n            target.emit(\"newListener\", type, listener.listener ? listener.listener : listener);\n            // Re-assign `events` because a newListener handler could have caused the\n            // this._events to be assigned to a new object\n            events = target._events;\n        }\n        existing = events[type];\n    }\n    if (existing === undefined) {\n        // Optimize the case of one listener. Don't need the extra array object.\n        existing = events[type] = listener;\n        ++target._eventsCount;\n    } else {\n        if (typeof existing === \"function\") // Adding the second element, need to change to array.\n        existing = events[type] = prepend ? [\n            listener,\n            existing\n        ] : [\n            existing,\n            listener\n        ];\n        else if (prepend) existing.unshift(listener);\n        else existing.push(listener);\n        // Check for listener leak\n        m = $6e2b186194ca9ee7$var$_getMaxListeners(target);\n        if (m > 0 && existing.length > m && !existing.warned) {\n            existing.warned = true;\n            // No error code for this since it is a Warning\n            // eslint-disable-next-line no-restricted-syntax\n            var w = new Error(\"Possible EventEmitter memory leak detected. \" + existing.length + \" \" + String(type) + \" listeners \" + \"added. Use emitter.setMaxListeners() to \" + \"increase limit\");\n            w.name = \"MaxListenersExceededWarning\";\n            w.emitter = target;\n            w.type = type;\n            w.count = existing.length;\n            $6e2b186194ca9ee7$var$ProcessEmitWarning(w);\n        }\n    }\n    return target;\n}\n$6e2b186194ca9ee7$var$EventEmitter.prototype.addListener = function addListener(type, listener) {\n    return $6e2b186194ca9ee7$var$_addListener(this, type, listener, false);\n};\n$6e2b186194ca9ee7$var$EventEmitter.prototype.on = $6e2b186194ca9ee7$var$EventEmitter.prototype.addListener;\n$6e2b186194ca9ee7$var$EventEmitter.prototype.prependListener = function prependListener(type, listener) {\n    return $6e2b186194ca9ee7$var$_addListener(this, type, listener, true);\n};\nfunction $6e2b186194ca9ee7$var$onceWrapper() {\n    if (!this.fired) {\n        this.target.removeListener(this.type, this.wrapFn);\n        this.fired = true;\n        if (arguments.length === 0) return this.listener.call(this.target);\n        return this.listener.apply(this.target, arguments);\n    }\n}\nfunction $6e2b186194ca9ee7$var$_onceWrap(target, type, listener) {\n    var state = {\n        fired: false,\n        wrapFn: undefined,\n        target: target,\n        type: type,\n        listener: listener\n    };\n    var wrapped = $6e2b186194ca9ee7$var$onceWrapper.bind(state);\n    wrapped.listener = listener;\n    state.wrapFn = wrapped;\n    return wrapped;\n}\n$6e2b186194ca9ee7$var$EventEmitter.prototype.once = function once(type, listener) {\n    $6e2b186194ca9ee7$var$checkListener(listener);\n    this.on(type, $6e2b186194ca9ee7$var$_onceWrap(this, type, listener));\n    return this;\n};\n$6e2b186194ca9ee7$var$EventEmitter.prototype.prependOnceListener = function prependOnceListener(type, listener) {\n    $6e2b186194ca9ee7$var$checkListener(listener);\n    this.prependListener(type, $6e2b186194ca9ee7$var$_onceWrap(this, type, listener));\n    return this;\n};\n// Emits a 'removeListener' event if and only if the listener was removed.\n$6e2b186194ca9ee7$var$EventEmitter.prototype.removeListener = function removeListener(type, listener) {\n    var list, events, position, i, originalListener;\n    $6e2b186194ca9ee7$var$checkListener(listener);\n    events = this._events;\n    if (events === undefined) return this;\n    list = events[type];\n    if (list === undefined) return this;\n    if (list === listener || list.listener === listener) {\n        if (--this._eventsCount === 0) this._events = Object.create(null);\n        else {\n            delete events[type];\n            if (events.removeListener) this.emit(\"removeListener\", type, list.listener || listener);\n        }\n    } else if (typeof list !== \"function\") {\n        position = -1;\n        for(i = list.length - 1; i >= 0; i--)if (list[i] === listener || list[i].listener === listener) {\n            originalListener = list[i].listener;\n            position = i;\n            break;\n        }\n        if (position < 0) return this;\n        if (position === 0) list.shift();\n        else $6e2b186194ca9ee7$var$spliceOne(list, position);\n        if (list.length === 1) events[type] = list[0];\n        if (events.removeListener !== undefined) this.emit(\"removeListener\", type, originalListener || listener);\n    }\n    return this;\n};\n$6e2b186194ca9ee7$var$EventEmitter.prototype.off = $6e2b186194ca9ee7$var$EventEmitter.prototype.removeListener;\n$6e2b186194ca9ee7$var$EventEmitter.prototype.removeAllListeners = function removeAllListeners(type) {\n    var listeners, events, i;\n    events = this._events;\n    if (events === undefined) return this;\n    // not listening for removeListener, no need to emit\n    if (events.removeListener === undefined) {\n        if (arguments.length === 0) {\n            this._events = Object.create(null);\n            this._eventsCount = 0;\n        } else if (events[type] !== undefined) {\n            if (--this._eventsCount === 0) this._events = Object.create(null);\n            else delete events[type];\n        }\n        return this;\n    }\n    // emit removeListener for all listeners on all events\n    if (arguments.length === 0) {\n        var keys = Object.keys(events);\n        var key;\n        for(i = 0; i < keys.length; ++i){\n            key = keys[i];\n            if (key === \"removeListener\") continue;\n            this.removeAllListeners(key);\n        }\n        this.removeAllListeners(\"removeListener\");\n        this._events = Object.create(null);\n        this._eventsCount = 0;\n        return this;\n    }\n    listeners = events[type];\n    if (typeof listeners === \"function\") this.removeListener(type, listeners);\n    else if (listeners !== undefined) // LIFO order\n    for(i = listeners.length - 1; i >= 0; i--)this.removeListener(type, listeners[i]);\n    return this;\n};\nfunction $6e2b186194ca9ee7$var$_listeners(target, type, unwrap) {\n    var events = target._events;\n    if (events === undefined) return [];\n    var evlistener = events[type];\n    if (evlistener === undefined) return [];\n    if (typeof evlistener === \"function\") return unwrap ? [\n        evlistener.listener || evlistener\n    ] : [\n        evlistener\n    ];\n    return unwrap ? $6e2b186194ca9ee7$var$unwrapListeners(evlistener) : $6e2b186194ca9ee7$var$arrayClone(evlistener, evlistener.length);\n}\n$6e2b186194ca9ee7$var$EventEmitter.prototype.listeners = function listeners(type) {\n    return $6e2b186194ca9ee7$var$_listeners(this, type, true);\n};\n$6e2b186194ca9ee7$var$EventEmitter.prototype.rawListeners = function rawListeners(type) {\n    return $6e2b186194ca9ee7$var$_listeners(this, type, false);\n};\n$6e2b186194ca9ee7$var$EventEmitter.listenerCount = function(emitter, type) {\n    if (typeof emitter.listenerCount === \"function\") return emitter.listenerCount(type);\n    else return $6e2b186194ca9ee7$var$listenerCount.call(emitter, type);\n};\n$6e2b186194ca9ee7$var$EventEmitter.prototype.listenerCount = $6e2b186194ca9ee7$var$listenerCount;\nfunction $6e2b186194ca9ee7$var$listenerCount(type) {\n    var events = this._events;\n    if (events !== undefined) {\n        var evlistener = events[type];\n        if (typeof evlistener === \"function\") return 1;\n        else if (evlistener !== undefined) return evlistener.length;\n    }\n    return 0;\n}\n$6e2b186194ca9ee7$var$EventEmitter.prototype.eventNames = function eventNames() {\n    return this._eventsCount > 0 ? $6e2b186194ca9ee7$var$ReflectOwnKeys(this._events) : [];\n};\nfunction $6e2b186194ca9ee7$var$arrayClone(arr, n) {\n    var copy = new Array(n);\n    for(var i = 0; i < n; ++i)copy[i] = arr[i];\n    return copy;\n}\nfunction $6e2b186194ca9ee7$var$spliceOne(list, index) {\n    for(; index + 1 < list.length; index++)list[index] = list[index + 1];\n    list.pop();\n}\nfunction $6e2b186194ca9ee7$var$unwrapListeners(arr) {\n    var ret = new Array(arr.length);\n    for(var i = 0; i < ret.length; ++i)ret[i] = arr[i].listener || arr[i];\n    return ret;\n}\nfunction $6e2b186194ca9ee7$var$once(emitter, name) {\n    return new Promise(function(resolve, reject) {\n        function errorListener(err) {\n            emitter.removeListener(name, resolver);\n            reject(err);\n        }\n        function resolver() {\n            if (typeof emitter.removeListener === \"function\") emitter.removeListener(\"error\", errorListener);\n            resolve([].slice.call(arguments));\n        }\n        $6e2b186194ca9ee7$var$eventTargetAgnosticAddListener(emitter, name, resolver, {\n            once: true\n        });\n        if (name !== \"error\") $6e2b186194ca9ee7$var$addErrorHandlerIfEventEmitter(emitter, errorListener, {\n            once: true\n        });\n    });\n}\nfunction $6e2b186194ca9ee7$var$addErrorHandlerIfEventEmitter(emitter, handler, flags) {\n    if (typeof emitter.on === \"function\") $6e2b186194ca9ee7$var$eventTargetAgnosticAddListener(emitter, \"error\", handler, flags);\n}\nfunction $6e2b186194ca9ee7$var$eventTargetAgnosticAddListener(emitter, name, listener, flags) {\n    if (typeof emitter.on === \"function\") {\n        if (flags.once) emitter.once(name, listener);\n        else emitter.on(name, listener);\n    } else if (typeof emitter.addEventListener === \"function\") // EventTarget does not have `error` event semantics like Node\n    // EventEmitters, we do not listen for `error` events here.\n    emitter.addEventListener(name, function wrapListener(arg) {\n        // IE does not have builtin `{ once: true }` support so we\n        // have to do it manually.\n        if (flags.once) emitter.removeEventListener(name, wrapListener);\n        listener(arg);\n    });\n    else throw new TypeError('The \"emitter\" argument must be of type EventEmitter. Received type ' + typeof emitter);\n}\n\n\nclass $6a0074a2883496ba$var$Ball {\n    constructor(options = {}){\n        this.x = options.x || 0;\n        this.y = options.y || 0;\n        this.radius = options.radius || 20;\n        this.vx = options.vx;\n        this.vy = options.vy;\n        this.style = options.style || \"red\";\n        this.isImageStyle = this.isURL(this.style);\n        if (this.isImageStyle) {\n            const image = new Image();\n            image.src = this.style;\n            image.onload = ()=>{\n                this.image = image;\n            };\n            image.error = ()=>{\n                console.error(\"[canvas-pendulum] load image error:\" + this.style);\n            };\n        }\n        this.rotation = options.rotation || 0;\n        this.outLineWidth = options.outLineWidth || 1;\n    }\n    isURL(url) {\n        return typeof url === \"string\" && (url.startsWith(\"http\") || url.startsWith(\".\") || url.startsWith(\"/\"));\n    }\n    draw(context) {\n        context.save();\n        context.translate(this.x, this.y);\n        context.rotate(this.rotation);\n        context.lineWidth = this.outLineWidth;\n        context.beginPath();\n        context.arc(0, 0, this.radius, 0, Math.PI * 2, true);\n        context.closePath();\n        if (this.isImageStyle) {\n            if (this.image) {\n                context.save();\n                context.clip();\n                context.drawImage(this.image, -this.radius + this.outLineWidth / 2, -this.radius + this.outLineWidth / 2, this.radius * 2 - this.outLineWidth, this.radius * 2 - this.outLineWidth);\n                context.restore();\n            }\n        } else {\n            context.fillStyle = this.style;\n            context.fill();\n        }\n        if (this.outLineWidth > 0) context.stroke();\n        context.restore();\n    }\n    getBounds() {\n        return {\n            x: this.x - this.radius,\n            y: this.y - this.radius,\n            width: this.radius * 2,\n            height: this.radius * 2\n        };\n    }\n    isPointInBall(x, y) {\n        return Math.pow(x - this.x, 2) + Math.pow(y - this.y, 2) <= Math.pow(this.radius, 2);\n    }\n}\nvar $6a0074a2883496ba$export$2e2bcd8739ae039 = $6a0074a2883496ba$var$Ball;\n\n\nclass $f9ccc1fa0d22629a$var$CanvasPendulum extends (0, $6e2b186194ca9ee7$exports.EventEmitter) {\n    constructor(options = {}){\n        super();\n        options = options || {};\n        this.el = options.el;\n        if (typeof this.el === \"string\") this.el = document.querySelector(this.el);\n        if (this.el) {\n            if (this.el.tagName === \"CANVAS\") this.canvas = this.el;\n            else if (this.el.appendChild) {\n                this.canvas = document.createElement(\"canvas\");\n                this.el.appendChild(this.canvas);\n            } else throw new Error(\"\\u53C2\\u6570el\\u9519\\u8BEF\");\n        } else {\n            this.canvas = document.createElement(\"canvas\");\n            document.body.appendChild(this.canvas);\n        }\n        this.cWidth = options.width || this.canvas.width || 300;\n        this.cHeight = options.height || this.canvas.height || 150;\n        if (this.canvas.width !== this.cWidth) this.canvas.width = this.cWidth;\n        if (this.canvas.height !== this.cHeight) this.canvas.height = this.cHeight;\n        this.context = this.canvas.getContext(\"2d\");\n        this.T = options.T || 1000 // 周期\n        ;\n        this.ballNum = options.ballNum || 1;\n        this.ballWidth = options.ballWidth || 40;\n        this.maxAngle = options.maxAngle || 20 // 最大的角度\n        ;\n        this.outLineWidth = Math.min(options.outLineWidth || 1, this.ballWidth) // 边框大小\n        ;\n        this.initSpeed = 2 * Math.PI / this.T;\n        this.intX = this.cWidth / 2 - this.ballNum / 2 * (this.ballWidth + this.outLineWidth);\n        this.maxRadian = Math.PI * (this.maxAngle || 10) / 180;\n        this.startTime = +new Date();\n        this.time = this._getTimer();\n        let lineWidth = options.lineWidth || (this.cHeight - this.ballWidth) * 90 / 100;\n        let defaultBallStyle = \"red\";\n        let ballStyles = options.ballStyles || defaultBallStyle;\n        this.pendulums = new Array(this.ballNum).fill(0).map((item, index)=>({\n                ball: new (0, $6a0074a2883496ba$export$2e2bcd8739ae039)({\n                    radius: this.ballWidth / 2,\n                    style: Array.isArray(ballStyles) ? ballStyles[index] || defaultBallStyle : ballStyles,\n                    outLineWidth: this.outLineWidth\n                }),\n                radius: this.ballWidth / 2,\n                fixedPoint: [\n                    this.intX + index * (this.ballWidth + this.outLineWidth) + this.ballWidth / 2,\n                    0\n                ],\n                line: lineWidth,\n                spend: index === 0 ? this.initSpeed : 0,\n                w: 0\n            }));\n        this._status = \"pause\";\n        let mouse = (0, $e1f0b8fa1ae2171c$export$2e2bcd8739ae039).captureMouse(this.canvas);\n        this.canvas.addEventListener(\"click\", (e)=>{\n            this.pendulums.some((item, index)=>{\n                let isInBall = item.ball.isPointInBall(mouse.x, mouse.y);\n                if (isInBall) this.emit(\"ballClick\", {\n                    spend: item.spend,\n                    index: index,\n                    x: mouse.x,\n                    y: mouse.y\n                });\n                return isInBall;\n            });\n        });\n    }\n    _getTimer() {\n        return +new Date() - this.startTime;\n    }\n    _checkConflict(ball1, ball2) {\n        if (!ball1 || !ball2) return false;\n        return Math.pow(ball1.radius + ball2.radius, 2) > Math.pow(ball2.x - ball1.x, 2) + Math.pow(ball2.y - ball1.y, 2);\n    }\n    start() {\n        if (this._status !== \"running\") {\n            this._status = \"running\";\n            this._run();\n        }\n        return this;\n    }\n    stop() {\n        this._status = \"pause\";\n        return this;\n    }\n    _run() {\n        if (this._status === \"running\") window.requestAnimationFrame(this._run.bind(this), this.canvas);\n        this.context.clearRect(0, 0, this.canvas.width, this.canvas.height);\n        const elspsed = this._getTimer() - this.time;\n        this.time = this._getTimer();\n        // 绘制\n        this.pendulums.forEach((item)=>{\n            // item.w+=item.spend;\n            item.w += item.spend * elspsed;\n            const angle = Math.sin(item.w) * this.maxRadian;\n            item.ball.x = item.fixedPoint[0] - (item.line + item.radius) * Math.sin(angle);\n            item.ball.y = item.fixedPoint[1] + (item.line + item.radius) * Math.cos(angle);\n            // 划线\n            this.context.save();\n            this.context.lineWidth = 1;\n            this.context.beginPath();\n            this.context.moveTo(item.fixedPoint[0] || 9, item.fixedPoint[1] || 0);\n            this.context.lineTo(item.fixedPoint[0] - item.line * Math.sin(angle), item.fixedPoint[1] + item.line * Math.cos(angle));\n            this.context.stroke();\n            this.context.restore();\n            if (angle !== 0) item.ball.rotation = angle;\n            item.ball.draw(this.context);\n        });\n        // 碰撞检测\n        if (this.pendulums.length >= 2 && (this._checkConflict(this.pendulums[0].ball, this.pendulums[1].ball) || this._checkConflict(this.pendulums[this.pendulums.length - 1].ball, this.pendulums[this.pendulums.length - 2].ball))) {\n            this.emit(\"ping\", {\n                isFrist: this.pendulums[0].spend > 0\n            });\n            const spend = this.pendulums[0].spend;\n            const w = this.pendulums[0].w;\n            this.pendulums[0].spend = this.pendulums[this.pendulums.length - 1].spend;\n            this.pendulums[0].w = this.pendulums[this.pendulums.length - 1].w;\n            this.pendulums[this.pendulums.length - 1].spend = spend;\n            this.pendulums[this.pendulums.length - 1].w = w;\n        }\n    }\n}\nvar $f9ccc1fa0d22629a$export$2e2bcd8739ae039 = $f9ccc1fa0d22629a$var$CanvasPendulum;\n\n})();\n//# sourceMappingURL=index.js.map\n","import utils from './utils'\r\nimport { EventEmitter } from 'events'\r\nimport Ball from './ball'\r\n\r\nclass CanvasPendulum extends EventEmitter {\r\n  constructor(options = {}) {\r\n    super()\r\n    options = options || {}\r\n    this.el = options.el\r\n    if (typeof this.el === 'string') {\r\n      this.el = document.querySelector(this.el)\r\n    }\r\n    if (this.el) {\r\n      if (this.el.tagName === 'CANVAS') {\r\n        this.canvas = this.el\r\n      } else if (this.el.appendChild) {\r\n        this.canvas = document.createElement('canvas')\r\n        this.el.appendChild(this.canvas)\r\n      } else {\r\n        throw new Error('参数el错误')\r\n      }\r\n    } else {\r\n      this.canvas = document.createElement('canvas')\r\n      document.body.appendChild(this.canvas)\r\n    }\r\n\r\n    this.cWidth = options.width || this.canvas.width || 300\r\n    this.cHeight = options.height || this.canvas.height || 150\r\n    if (this.canvas.width !== this.cWidth) {\r\n      this.canvas.width = this.cWidth\r\n    }\r\n    if (this.canvas.height !== this.cHeight) {\r\n      this.canvas.height = this.cHeight\r\n    }\r\n    this.context = this.canvas.getContext('2d')\r\n\r\n    this.T = options.T || 1000 // 周期\r\n    this.ballNum = options.ballNum || 1\r\n    this.ballWidth = options.ballWidth || 40\r\n    this.maxAngle = options.maxAngle || 20 // 最大的角度\r\n    this.outLineWidth = Math.min(options.outLineWidth || 1, this.ballWidth) // 边框大小\r\n    this.initSpeed = (2 * Math.PI) / this.T\r\n    this.intX =\r\n      this.cWidth / 2 -\r\n      (this.ballNum / 2) * (this.ballWidth + this.outLineWidth)\r\n    this.maxRadian = (Math.PI * (this.maxAngle || 10)) / 180\r\n\r\n    this.startTime = +new Date()\r\n    this.time = this._getTimer()\r\n    let lineWidth =\r\n      options.lineWidth || ((this.cHeight - this.ballWidth) * 90) / 100\r\n\r\n    let defaultBallStyle = 'red'\r\n    let ballStyles = options.ballStyles || defaultBallStyle\r\n\r\n    this.pendulums = new Array(this.ballNum).fill(0).map((item, index) => ({\r\n      ball: new Ball({\r\n        radius: this.ballWidth / 2,\r\n        style: Array.isArray(ballStyles)\r\n          ? ballStyles[index] || defaultBallStyle\r\n          : ballStyles,\r\n        outLineWidth: this.outLineWidth,\r\n      }),\r\n      radius: this.ballWidth / 2,\r\n      fixedPoint: [\r\n        this.intX +\r\n          index * (this.ballWidth + this.outLineWidth) +\r\n          this.ballWidth / 2,\r\n        0,\r\n      ],\r\n      line: lineWidth,\r\n      spend: index === 0 ? this.initSpeed : 0,\r\n      w: 0,\r\n    }))\r\n\r\n    this._status = 'pause'\r\n\r\n    let mouse = utils.captureMouse(this.canvas)\r\n    this.canvas.addEventListener('click', (e) => {\r\n      this.pendulums.some((item, index) => {\r\n        let isInBall = item.ball.isPointInBall(mouse.x, mouse.y)\r\n        if (isInBall) {\r\n          this.emit('ballClick', {\r\n            spend: item.spend,\r\n            index: index,\r\n            x: mouse.x,\r\n            y: mouse.y,\r\n          })\r\n        }\r\n        return isInBall\r\n      })\r\n    })\r\n  }\r\n\r\n  _getTimer() {\r\n    return +new Date() - this.startTime\r\n  }\r\n\r\n  _checkConflict(ball1, ball2) {\r\n    if (!ball1 || !ball2) {\r\n      return false\r\n    }\r\n    return (\r\n      Math.pow(ball1.radius + ball2.radius, 2) >\r\n      Math.pow(ball2.x - ball1.x, 2) + Math.pow(ball2.y - ball1.y, 2)\r\n    )\r\n  }\r\n\r\n  start() {\r\n    if (this._status !== 'running') {\r\n      this._status = 'running'\r\n      this._run()\r\n    }\r\n    return this\r\n  }\r\n\r\n  stop() {\r\n    this._status = 'pause'\r\n    return this\r\n  }\r\n\r\n  _run() {\r\n    if (this._status === 'running') {\r\n      window.requestAnimationFrame(this._run.bind(this), this.canvas)\r\n    }\r\n    this.context.clearRect(0, 0, this.canvas.width, this.canvas.height)\r\n    const elspsed = this._getTimer() - this.time\r\n    this.time = this._getTimer()\r\n\r\n    // 绘制\r\n    this.pendulums.forEach((item) => {\r\n      // item.w+=item.spend;\r\n      item.w += item.spend * elspsed\r\n      const angle = Math.sin(item.w) * this.maxRadian\r\n      item.ball.x =\r\n        item.fixedPoint[0] - (item.line + item.radius) * Math.sin(angle)\r\n      item.ball.y =\r\n        item.fixedPoint[1] + (item.line + item.radius) * Math.cos(angle)\r\n\r\n      // 划线\r\n      this.context.save()\r\n      this.context.lineWidth = 1\r\n      this.context.beginPath()\r\n      this.context.moveTo(item.fixedPoint[0] || 9, item.fixedPoint[1] || 0)\r\n      this.context.lineTo(\r\n        item.fixedPoint[0] - item.line * Math.sin(angle),\r\n        item.fixedPoint[1] + item.line * Math.cos(angle)\r\n      )\r\n      this.context.stroke()\r\n      this.context.restore()\r\n\r\n      if (angle !== 0) {\r\n        item.ball.rotation = angle\r\n      }\r\n\r\n      item.ball.draw(this.context)\r\n    })\r\n\r\n    // 碰撞检测\r\n    if (\r\n      this.pendulums.length >= 2 &&\r\n      (this._checkConflict(this.pendulums[0].ball, this.pendulums[1].ball) ||\r\n        this._checkConflict(\r\n          this.pendulums[this.pendulums.length - 1].ball,\r\n          this.pendulums[this.pendulums.length - 2].ball\r\n        ))\r\n    ) {\r\n      this.emit('ping', {\r\n        isFrist: this.pendulums[0].spend > 0,\r\n      })\r\n      const spend = this.pendulums[0].spend\r\n      const w = this.pendulums[0].w\r\n      this.pendulums[0].spend = this.pendulums[this.pendulums.length - 1].spend\r\n      this.pendulums[0].w = this.pendulums[this.pendulums.length - 1].w\r\n      this.pendulums[this.pendulums.length - 1].spend = spend\r\n      this.pendulums[this.pendulums.length - 1].w = w\r\n    }\r\n  }\r\n}\r\n\r\nexport default CanvasPendulum\r\n","/**\r\n * Normalize the browser animation API across implementations. This requests\r\n * the browser to schedule a repaint of the window for the next animation frame.\r\n * Checks for cross-browser support, and, failing to find it, falls back to setTimeout.\r\n * @param {function}    callback  Function to call when it's time to update your animation for the next repaint.\r\n * @param {HTMLElement} element   Optional parameter specifying the element that visually bounds the entire animation.\r\n * @return {number} Animation frame request.\r\n */\r\nif (!window.requestAnimationFrame) {\r\n  window.requestAnimationFrame =\r\n    window.webkitRequestAnimationFrame ||\r\n    window.mozRequestAnimationFrame ||\r\n    window.msRequestAnimationFrame ||\r\n    window.oRequestAnimationFrame ||\r\n    function (callback) {\r\n      return window.setTimeout(callback, 17 /*~ 1000/60*/)\r\n    }\r\n}\r\n\r\n/**\r\n * Cancels an animation frame request.\r\n * Checks for cross-browser support, falls back to clearTimeout.\r\n * @param {number}  Animation frame request.\r\n */\r\nif (!window.cancelRequestAnimationFrame) {\r\n  window.cancelRequestAnimationFrame =\r\n    window.cancelAnimationFrame ||\r\n    window.webkitCancelRequestAnimationFrame ||\r\n    window.mozCancelRequestAnimationFrame ||\r\n    window.msCancelRequestAnimationFrame ||\r\n    window.oCancelRequestAnimationFrame ||\r\n    window.clearTimeout\r\n}\r\n\r\n/* Object that contains our utility functions.\r\n * Attached to the window object which acts as the global namespace.\r\n */\r\nconst utils = {}\r\n\r\n/**\r\n * Keeps track of the current mouse position, relative to an element.\r\n * @param {HTMLElement} element\r\n * @return {object} Contains properties: x, y, event\r\n */\r\nutils.captureMouse = function (element) {\r\n  var mouse = { x: 0, y: 0, event: null },\r\n    body_scrollLeft = document.body.scrollLeft,\r\n    element_scrollLeft = document.documentElement.scrollLeft,\r\n    body_scrollTop = document.body.scrollTop,\r\n    element_scrollTop = document.documentElement.scrollTop,\r\n    offsetLeft = element.offsetLeft,\r\n    offsetTop = element.offsetTop\r\n\r\n  element.addEventListener(\r\n    'mousemove',\r\n    function (event) {\r\n      var x, y\r\n\r\n      if (event.pageX || event.pageY) {\r\n        x = event.pageX\r\n        y = event.pageY\r\n      } else {\r\n        x = event.clientX + body_scrollLeft + element_scrollLeft\r\n        y = event.clientY + body_scrollTop + element_scrollTop\r\n      }\r\n      x -= offsetLeft\r\n      y -= offsetTop\r\n\r\n      mouse.x = x\r\n      mouse.y = y\r\n      mouse.event = event\r\n    },\r\n    false\r\n  )\r\n\r\n  return mouse\r\n}\r\n\r\n/**\r\n * Returns a color in the format: '#RRGGBB', or as a hex number if specified.\r\n * @param {number|string} color\r\n * @param {boolean=}      toNumber=false  Return color as a hex number.\r\n * @return {string|number}\r\n */\r\nutils.parseColor = function (color, toNumber) {\r\n  if (toNumber === true) {\r\n    if (typeof color === 'number') {\r\n      return color | 0 //chop off decimal\r\n    }\r\n    if (typeof color === 'string' && color[0] === '#') {\r\n      color = color.slice(1)\r\n    }\r\n    return window.parseInt(color, 16)\r\n  } else {\r\n    if (typeof color === 'number') {\r\n      color = '#' + ('00000' + (color | 0).toString(16)).substr(-6) //pad\r\n    }\r\n    return color\r\n  }\r\n}\r\n\r\n/**\r\n * Converts a color to the RGB string format: 'rgb(r,g,b)' or 'rgba(r,g,b,a)'\r\n * @param {number|string} color\r\n * @param {number}        alpha\r\n * @return {string}\r\n */\r\nutils.colorToRGB = function (color, alpha) {\r\n  //number in octal format or string prefixed with #\r\n  if (typeof color === 'string' && color[0] === '#') {\r\n    color = window.parseInt(color.slice(1), 16)\r\n  }\r\n  alpha = alpha === undefined ? 1 : alpha\r\n  //parse hex values\r\n  var r = (color >> 16) & 0xff,\r\n    g = (color >> 8) & 0xff,\r\n    b = color & 0xff,\r\n    a = alpha < 0 ? 0 : alpha > 1 ? 1 : alpha\r\n  //only use 'rgba' if needed\r\n  if (a === 1) {\r\n    return 'rgb(' + r + ',' + g + ',' + b + ')'\r\n  } else {\r\n    return 'rgba(' + r + ',' + g + ',' + b + ',' + a + ')'\r\n  }\r\n}\r\n\r\n/**\r\n * Determine if a rectangle contains the coordinates (x,y) within it's boundaries.\r\n * @param {object}  rect  Object with properties: x, y, width, height.\r\n * @param {number}  x     Coordinate position x.\r\n * @param {number}  y     Coordinate position y.\r\n * @return {boolean}\r\n */\r\nutils.containsPoint = function (rect, x, y) {\r\n  return !(\r\n    x < rect.x ||\r\n    x > rect.x + rect.width ||\r\n    y < rect.y ||\r\n    y > rect.y + rect.height\r\n  )\r\n}\r\n\r\n/**\r\n * Determine if two rectangles overlap.\r\n * @param {object}  rectA Object with properties: x, y, width, height.\r\n * @param {object}  rectB Object with properties: x, y, width, height.\r\n * @return {boolean}\r\n */\r\nutils.intersects = function (rectA, rectB) {\r\n  return !(\r\n    rectA.x + rectA.width < rectB.x ||\r\n    rectB.x + rectB.width < rectA.x ||\r\n    rectA.y + rectA.height < rectB.y ||\r\n    rectB.y + rectB.height < rectA.y\r\n  )\r\n}\r\n\r\nexport default utils\r\n","// Copyright Joyent, Inc. and other Node contributors.\n//\n// Permission is hereby granted, free of charge, to any person obtaining a\n// copy of this software and associated documentation files (the\n// \"Software\"), to deal in the Software without restriction, including\n// without limitation the rights to use, copy, modify, merge, publish,\n// distribute, sublicense, and/or sell copies of the Software, and to permit\n// persons to whom the Software is furnished to do so, subject to the\n// following conditions:\n//\n// The above copyright notice and this permission notice shall be included\n// in all copies or substantial portions of the Software.\n//\n// THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS\n// OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF\n// MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN\n// NO EVENT SHALL THE AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM,\n// DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR\n// OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE\n// USE OR OTHER DEALINGS IN THE SOFTWARE.\n\n'use strict';\n\nvar R = typeof Reflect === 'object' ? Reflect : null\nvar ReflectApply = R && typeof R.apply === 'function'\n  ? R.apply\n  : function ReflectApply(target, receiver, args) {\n    return Function.prototype.apply.call(target, receiver, args);\n  }\n\nvar ReflectOwnKeys\nif (R && typeof R.ownKeys === 'function') {\n  ReflectOwnKeys = R.ownKeys\n} else if (Object.getOwnPropertySymbols) {\n  ReflectOwnKeys = function ReflectOwnKeys(target) {\n    return Object.getOwnPropertyNames(target)\n      .concat(Object.getOwnPropertySymbols(target));\n  };\n} else {\n  ReflectOwnKeys = function ReflectOwnKeys(target) {\n    return Object.getOwnPropertyNames(target);\n  };\n}\n\nfunction ProcessEmitWarning(warning) {\n  if (console && console.warn) console.warn(warning);\n}\n\nvar NumberIsNaN = Number.isNaN || function NumberIsNaN(value) {\n  return value !== value;\n}\n\nfunction EventEmitter() {\n  EventEmitter.init.call(this);\n}\nmodule.exports = EventEmitter;\nmodule.exports.once = once;\n\n// Backwards-compat with node 0.10.x\nEventEmitter.EventEmitter = EventEmitter;\n\nEventEmitter.prototype._events = undefined;\nEventEmitter.prototype._eventsCount = 0;\nEventEmitter.prototype._maxListeners = undefined;\n\n// By default EventEmitters will print a warning if more than 10 listeners are\n// added to it. This is a useful default which helps finding memory leaks.\nvar defaultMaxListeners = 10;\n\nfunction checkListener(listener) {\n  if (typeof listener !== 'function') {\n    throw new TypeError('The \"listener\" argument must be of type Function. Received type ' + typeof listener);\n  }\n}\n\nObject.defineProperty(EventEmitter, 'defaultMaxListeners', {\n  enumerable: true,\n  get: function() {\n    return defaultMaxListeners;\n  },\n  set: function(arg) {\n    if (typeof arg !== 'number' || arg < 0 || NumberIsNaN(arg)) {\n      throw new RangeError('The value of \"defaultMaxListeners\" is out of range. It must be a non-negative number. Received ' + arg + '.');\n    }\n    defaultMaxListeners = arg;\n  }\n});\n\nEventEmitter.init = function() {\n\n  if (this._events === undefined ||\n      this._events === Object.getPrototypeOf(this)._events) {\n    this._events = Object.create(null);\n    this._eventsCount = 0;\n  }\n\n  this._maxListeners = this._maxListeners || undefined;\n};\n\n// Obviously not all Emitters should be limited to 10. This function allows\n// that to be increased. Set to zero for unlimited.\nEventEmitter.prototype.setMaxListeners = function setMaxListeners(n) {\n  if (typeof n !== 'number' || n < 0 || NumberIsNaN(n)) {\n    throw new RangeError('The value of \"n\" is out of range. It must be a non-negative number. Received ' + n + '.');\n  }\n  this._maxListeners = n;\n  return this;\n};\n\nfunction _getMaxListeners(that) {\n  if (that._maxListeners === undefined)\n    return EventEmitter.defaultMaxListeners;\n  return that._maxListeners;\n}\n\nEventEmitter.prototype.getMaxListeners = function getMaxListeners() {\n  return _getMaxListeners(this);\n};\n\nEventEmitter.prototype.emit = function emit(type) {\n  var args = [];\n  for (var i = 1; i < arguments.length; i++) args.push(arguments[i]);\n  var doError = (type === 'error');\n\n  var events = this._events;\n  if (events !== undefined)\n    doError = (doError && events.error === undefined);\n  else if (!doError)\n    return false;\n\n  // If there is no 'error' event listener then throw.\n  if (doError) {\n    var er;\n    if (args.length > 0)\n      er = args[0];\n    if (er instanceof Error) {\n      // Note: The comments on the `throw` lines are intentional, they show\n      // up in Node's output if this results in an unhandled exception.\n      throw er; // Unhandled 'error' event\n    }\n    // At least give some kind of context to the user\n    var err = new Error('Unhandled error.' + (er ? ' (' + er.message + ')' : ''));\n    err.context = er;\n    throw err; // Unhandled 'error' event\n  }\n\n  var handler = events[type];\n\n  if (handler === undefined)\n    return false;\n\n  if (typeof handler === 'function') {\n    ReflectApply(handler, this, args);\n  } else {\n    var len = handler.length;\n    var listeners = arrayClone(handler, len);\n    for (var i = 0; i < len; ++i)\n      ReflectApply(listeners[i], this, args);\n  }\n\n  return true;\n};\n\nfunction _addListener(target, type, listener, prepend) {\n  var m;\n  var events;\n  var existing;\n\n  checkListener(listener);\n\n  events = target._events;\n  if (events === undefined) {\n    events = target._events = Object.create(null);\n    target._eventsCount = 0;\n  } else {\n    // To avoid recursion in the case that type === \"newListener\"! Before\n    // adding it to the listeners, first emit \"newListener\".\n    if (events.newListener !== undefined) {\n      target.emit('newListener', type,\n                  listener.listener ? listener.listener : listener);\n\n      // Re-assign `events` because a newListener handler could have caused the\n      // this._events to be assigned to a new object\n      events = target._events;\n    }\n    existing = events[type];\n  }\n\n  if (existing === undefined) {\n    // Optimize the case of one listener. Don't need the extra array object.\n    existing = events[type] = listener;\n    ++target._eventsCount;\n  } else {\n    if (typeof existing === 'function') {\n      // Adding the second element, need to change to array.\n      existing = events[type] =\n        prepend ? [listener, existing] : [existing, listener];\n      // If we've already got an array, just append.\n    } else if (prepend) {\n      existing.unshift(listener);\n    } else {\n      existing.push(listener);\n    }\n\n    // Check for listener leak\n    m = _getMaxListeners(target);\n    if (m > 0 && existing.length > m && !existing.warned) {\n      existing.warned = true;\n      // No error code for this since it is a Warning\n      // eslint-disable-next-line no-restricted-syntax\n      var w = new Error('Possible EventEmitter memory leak detected. ' +\n                          existing.length + ' ' + String(type) + ' listeners ' +\n                          'added. Use emitter.setMaxListeners() to ' +\n                          'increase limit');\n      w.name = 'MaxListenersExceededWarning';\n      w.emitter = target;\n      w.type = type;\n      w.count = existing.length;\n      ProcessEmitWarning(w);\n    }\n  }\n\n  return target;\n}\n\nEventEmitter.prototype.addListener = function addListener(type, listener) {\n  return _addListener(this, type, listener, false);\n};\n\nEventEmitter.prototype.on = EventEmitter.prototype.addListener;\n\nEventEmitter.prototype.prependListener =\n    function prependListener(type, listener) {\n      return _addListener(this, type, listener, true);\n    };\n\nfunction onceWrapper() {\n  if (!this.fired) {\n    this.target.removeListener(this.type, this.wrapFn);\n    this.fired = true;\n    if (arguments.length === 0)\n      return this.listener.call(this.target);\n    return this.listener.apply(this.target, arguments);\n  }\n}\n\nfunction _onceWrap(target, type, listener) {\n  var state = { fired: false, wrapFn: undefined, target: target, type: type, listener: listener };\n  var wrapped = onceWrapper.bind(state);\n  wrapped.listener = listener;\n  state.wrapFn = wrapped;\n  return wrapped;\n}\n\nEventEmitter.prototype.once = function once(type, listener) {\n  checkListener(listener);\n  this.on(type, _onceWrap(this, type, listener));\n  return this;\n};\n\nEventEmitter.prototype.prependOnceListener =\n    function prependOnceListener(type, listener) {\n      checkListener(listener);\n      this.prependListener(type, _onceWrap(this, type, listener));\n      return this;\n    };\n\n// Emits a 'removeListener' event if and only if the listener was removed.\nEventEmitter.prototype.removeListener =\n    function removeListener(type, listener) {\n      var list, events, position, i, originalListener;\n\n      checkListener(listener);\n\n      events = this._events;\n      if (events === undefined)\n        return this;\n\n      list = events[type];\n      if (list === undefined)\n        return this;\n\n      if (list === listener || list.listener === listener) {\n        if (--this._eventsCount === 0)\n          this._events = Object.create(null);\n        else {\n          delete events[type];\n          if (events.removeListener)\n            this.emit('removeListener', type, list.listener || listener);\n        }\n      } else if (typeof list !== 'function') {\n        position = -1;\n\n        for (i = list.length - 1; i >= 0; i--) {\n          if (list[i] === listener || list[i].listener === listener) {\n            originalListener = list[i].listener;\n            position = i;\n            break;\n          }\n        }\n\n        if (position < 0)\n          return this;\n\n        if (position === 0)\n          list.shift();\n        else {\n          spliceOne(list, position);\n        }\n\n        if (list.length === 1)\n          events[type] = list[0];\n\n        if (events.removeListener !== undefined)\n          this.emit('removeListener', type, originalListener || listener);\n      }\n\n      return this;\n    };\n\nEventEmitter.prototype.off = EventEmitter.prototype.removeListener;\n\nEventEmitter.prototype.removeAllListeners =\n    function removeAllListeners(type) {\n      var listeners, events, i;\n\n      events = this._events;\n      if (events === undefined)\n        return this;\n\n      // not listening for removeListener, no need to emit\n      if (events.removeListener === undefined) {\n        if (arguments.length === 0) {\n          this._events = Object.create(null);\n          this._eventsCount = 0;\n        } else if (events[type] !== undefined) {\n          if (--this._eventsCount === 0)\n            this._events = Object.create(null);\n          else\n            delete events[type];\n        }\n        return this;\n      }\n\n      // emit removeListener for all listeners on all events\n      if (arguments.length === 0) {\n        var keys = Object.keys(events);\n        var key;\n        for (i = 0; i < keys.length; ++i) {\n          key = keys[i];\n          if (key === 'removeListener') continue;\n          this.removeAllListeners(key);\n        }\n        this.removeAllListeners('removeListener');\n        this._events = Object.create(null);\n        this._eventsCount = 0;\n        return this;\n      }\n\n      listeners = events[type];\n\n      if (typeof listeners === 'function') {\n        this.removeListener(type, listeners);\n      } else if (listeners !== undefined) {\n        // LIFO order\n        for (i = listeners.length - 1; i >= 0; i--) {\n          this.removeListener(type, listeners[i]);\n        }\n      }\n\n      return this;\n    };\n\nfunction _listeners(target, type, unwrap) {\n  var events = target._events;\n\n  if (events === undefined)\n    return [];\n\n  var evlistener = events[type];\n  if (evlistener === undefined)\n    return [];\n\n  if (typeof evlistener === 'function')\n    return unwrap ? [evlistener.listener || evlistener] : [evlistener];\n\n  return unwrap ?\n    unwrapListeners(evlistener) : arrayClone(evlistener, evlistener.length);\n}\n\nEventEmitter.prototype.listeners = function listeners(type) {\n  return _listeners(this, type, true);\n};\n\nEventEmitter.prototype.rawListeners = function rawListeners(type) {\n  return _listeners(this, type, false);\n};\n\nEventEmitter.listenerCount = function(emitter, type) {\n  if (typeof emitter.listenerCount === 'function') {\n    return emitter.listenerCount(type);\n  } else {\n    return listenerCount.call(emitter, type);\n  }\n};\n\nEventEmitter.prototype.listenerCount = listenerCount;\nfunction listenerCount(type) {\n  var events = this._events;\n\n  if (events !== undefined) {\n    var evlistener = events[type];\n\n    if (typeof evlistener === 'function') {\n      return 1;\n    } else if (evlistener !== undefined) {\n      return evlistener.length;\n    }\n  }\n\n  return 0;\n}\n\nEventEmitter.prototype.eventNames = function eventNames() {\n  return this._eventsCount > 0 ? ReflectOwnKeys(this._events) : [];\n};\n\nfunction arrayClone(arr, n) {\n  var copy = new Array(n);\n  for (var i = 0; i < n; ++i)\n    copy[i] = arr[i];\n  return copy;\n}\n\nfunction spliceOne(list, index) {\n  for (; index + 1 < list.length; index++)\n    list[index] = list[index + 1];\n  list.pop();\n}\n\nfunction unwrapListeners(arr) {\n  var ret = new Array(arr.length);\n  for (var i = 0; i < ret.length; ++i) {\n    ret[i] = arr[i].listener || arr[i];\n  }\n  return ret;\n}\n\nfunction once(emitter, name) {\n  return new Promise(function (resolve, reject) {\n    function errorListener(err) {\n      emitter.removeListener(name, resolver);\n      reject(err);\n    }\n\n    function resolver() {\n      if (typeof emitter.removeListener === 'function') {\n        emitter.removeListener('error', errorListener);\n      }\n      resolve([].slice.call(arguments));\n    };\n\n    eventTargetAgnosticAddListener(emitter, name, resolver, { once: true });\n    if (name !== 'error') {\n      addErrorHandlerIfEventEmitter(emitter, errorListener, { once: true });\n    }\n  });\n}\n\nfunction addErrorHandlerIfEventEmitter(emitter, handler, flags) {\n  if (typeof emitter.on === 'function') {\n    eventTargetAgnosticAddListener(emitter, 'error', handler, flags);\n  }\n}\n\nfunction eventTargetAgnosticAddListener(emitter, name, listener, flags) {\n  if (typeof emitter.on === 'function') {\n    if (flags.once) {\n      emitter.once(name, listener);\n    } else {\n      emitter.on(name, listener);\n    }\n  } else if (typeof emitter.addEventListener === 'function') {\n    // EventTarget does not have `error` event semantics like Node\n    // EventEmitters, we do not listen for `error` events here.\n    emitter.addEventListener(name, function wrapListener(arg) {\n      // IE does not have builtin `{ once: true }` support so we\n      // have to do it manually.\n      if (flags.once) {\n        emitter.removeEventListener(name, wrapListener);\n      }\n      listener(arg);\n    });\n  } else {\n    throw new TypeError('The \"emitter\" argument must be of type EventEmitter. Received type ' + typeof emitter);\n  }\n}\n","class Ball {\r\n  constructor(options = {}) {\r\n    this.x = options.x || 0\r\n    this.y = options.y || 0\r\n    this.radius = options.radius || 20\r\n    this.vx = options.vx\r\n    this.vy = options.vy\r\n    this.style = options.style || 'red'\r\n    this.isImageStyle = this.isURL(this.style)\r\n    if (this.isImageStyle) {\r\n      const image = new Image()\r\n      image.src = this.style\r\n      image.onload = () => {\r\n        this.image = image\r\n      }\r\n      image.error = () => {\r\n        console.error('[canvas-pendulum] load image error:' + this.style)\r\n      }\r\n    }\r\n    this.rotation = options.rotation || 0\r\n    this.outLineWidth = options.outLineWidth || 1\r\n  }\r\n\r\n  isURL(url) {\r\n    return (\r\n      typeof url === 'string' &&\r\n      (url.startsWith('http') || url.startsWith('.') || url.startsWith('/'))\r\n    )\r\n  }\r\n\r\n  draw(context) {\r\n    context.save()\r\n    context.translate(this.x, this.y)\r\n    context.rotate(this.rotation)\r\n    context.lineWidth = this.outLineWidth\r\n    context.beginPath()\r\n    context.arc(0, 0, this.radius, 0, Math.PI * 2, true)\r\n    context.closePath()\r\n\r\n    if (this.isImageStyle) {\r\n      if (this.image) {\r\n        context.save()\r\n        context.clip()\r\n        context.drawImage(\r\n          this.image,\r\n          -this.radius + this.outLineWidth / 2,\r\n          -this.radius + this.outLineWidth / 2,\r\n          this.radius * 2 - this.outLineWidth,\r\n          this.radius * 2 - this.outLineWidth\r\n        )\r\n        context.restore()\r\n      }\r\n    } else {\r\n      context.fillStyle = this.style\r\n      context.fill()\r\n    }\r\n    if (this.outLineWidth > 0) {\r\n      context.stroke()\r\n    }\r\n\r\n    context.restore()\r\n  }\r\n\r\n  getBounds() {\r\n    return {\r\n      x: this.x - this.radius,\r\n      y: this.y - this.radius,\r\n      width: this.radius * 2,\r\n      height: this.radius * 2,\r\n    }\r\n  }\r\n\r\n  isPointInBall(x, y) {\r\n    return (\r\n      Math.pow(x - this.x, 2) + Math.pow(y - this.y, 2) <=\r\n      Math.pow(this.radius, 2)\r\n    )\r\n  }\r\n}\r\n\r\nexport default Ball\r\n"],"names":["window","requestAnimationFrame","webkitRequestAnimationFrame","mozRequestAnimationFrame","msRequestAnimationFrame","oRequestAnimationFrame","callback","setTimeout","cancelRequestAnimationFrame","cancelAnimationFrame","webkitCancelRequestAnimationFrame","mozCancelRequestAnimationFrame","msCancelRequestAnimationFrame","oCancelRequestAnimationFrame","clearTimeout","$e1f0b8fa1ae2171c$var$utils","captureMouse","element","mouse","x","y","event","body_scrollLeft","document","body","scrollLeft","element_scrollLeft","documentElement","body_scrollTop","scrollTop","element_scrollTop","offsetLeft","offsetTop","addEventListener","pageX","pageY","clientX","clientY","parseColor","color","toNumber","toString","substr","slice","parseInt","colorToRGB","alpha","r","g","b","a","undefined","containsPoint","rect","width","height","intersects","rectA","rectB","$6e2b186194ca9ee7$var$ReflectOwnKeys","$6e2b186194ca9ee7$var$R","Reflect","$6e2b186194ca9ee7$var$ReflectApply","apply","target","receiver","args","Function","prototype","call","ownKeys","Object","getOwnPropertySymbols","getOwnPropertyNames","concat","$6e2b186194ca9ee7$var$NumberIsNaN","Number","isNaN","value","$6e2b186194ca9ee7$var$EventEmitter","init","$6e2b186194ca9ee7$exports","once","emitter","name","Promise","resolve","reject","flags","errorListener","err","removeListener","resolver","arguments","$6e2b186194ca9ee7$var$eventTargetAgnosticAddListener","on","EventEmitter","_events","_eventsCount","_maxListeners","$6e2b186194ca9ee7$var$defaultMaxListeners","$6e2b186194ca9ee7$var$checkListener","listener","TypeError","$6e2b186194ca9ee7$var$_getMaxListeners","that","defaultMaxListeners","$6e2b186194ca9ee7$var$_addListener","type","prepend","events","create","newListener","emit","existing","unshift","push","m","length","warned","w","Error","String","count","console","warn","$6e2b186194ca9ee7$var$onceWrapper","fired","wrapFn","$6e2b186194ca9ee7$var$_onceWrap","state","wrapped","bind","$6e2b186194ca9ee7$var$_listeners","unwrap","evlistener","$6e2b186194ca9ee7$var$unwrapListeners","arr","ret","Array","i","$6e2b186194ca9ee7$var$arrayClone","$6e2b186194ca9ee7$var$listenerCount","n","copy","wrapListener","arg","removeEventListener","defineProperty","enumerable","get","set","RangeError","getPrototypeOf","setMaxListeners","getMaxListeners","doError","error","er","message","context","handler","len","listeners","addListener","prependListener","prependOnceListener","list","position","originalListener","shift","$6e2b186194ca9ee7$var$spliceOne","index","pop","off","removeAllListeners","key","keys","rawListeners","listenerCount","eventNames"],"version":3,"file":"index.js.map"}